(this.webpackJsonpsnake=this.webpackJsonpsnake||[]).push([[0],{10:function(t,e,n){t.exports={cell:"SnakeCell_cell__1Rg-H",horizontal:"SnakeCell_horizontal__jpRGF"}},13:function(t,e,n){t.exports={apple:"Apple_apple__1zFMy"}},20:function(t,e,n){},21:function(t,e,n){"use strict";n.r(e);var i=n(1),r=n.n(i),a=n(12),c=n.n(a),o=n(3),d=n(5),s=n.n(d),u=n(0),l=function(){var t=Object(i.useState)("playing"),e=Object(o.a)(t,2),n=e[0],r=e[1],a=function(){r("playing")},c=function(){r("stopped")};return Object(u.jsxs)("div",{className:s.a.game,children:[Object(u.jsxs)("header",{className:s.a.header,children:[Object(u.jsx)("span",{className:s.a.title,children:"Snake Game"}),Object(u.jsx)("button",{className:s.a.button,onClick:"playing"===n?c:a,children:"playing"===n?"Stop":"Start"})]}),Object(u.jsx)(L,{gameStatus:n,startGame:a,stopGame:c})]})},j=n(2),b=n(11);var f=function(t,e){var n=Object(i.useRef)(t);Object(i.useLayoutEffect)((function(){n.current=t}),[t]),Object(i.useEffect)((function(){if(e||0===e){var t=setInterval((function(){return n.current()}),e);return function(){return clearInterval(t)}}}),[e])},h={width:15,height:15,widthCount:20,heightCount:20,spaceKeyCode:32,leftKeyCode:37,topKeyCode:38,rightKeyCode:39,bottomKeyCode:40,tick:100,rightDir:"right",leftDir:"left",topDir:"top",bottomDir:"bottom"},p=h.spaceKeyCode,y=h.leftKeyCode,x=h.topKeyCode,O=h.rightKeyCode,m=h.bottomKeyCode,g=h.rightDir,v=h.leftDir,_=h.topDir,C=h.bottomDir,D=function(t,e,n){Object(i.useEffect)((function(){var i=function(i){var r=i.keyCode;r===p&&n(),r===O&&t!==g&&t!==v&&e(g),r===y&&t!==g&&t!==v&&e(v),r===x&&t!==_&&t!==C&&e(_),r===m&&t!==_&&t!==C&&e(C)};return document.addEventListener("keydown",i),function(){document.removeEventListener("keydown",i)}}),[t,e,n])},k=n(9),w=n.n(k),K=h.width,S=h.height,G=h.widthCount,E=h.heightCount,N=h.tick,B=h.rightDir,M=h.leftDir,z=h.topDir,I=h.bottomDir,L=function(t){var e=t.gameStatus,n=t.startGame,r=t.stopGame,a=z,c=Object(i.useMemo)((function(){return[{id:0,y:5,x:0,dir:a},{id:1,y:5,x:1,dir:a},{id:2,y:5,x:2,dir:a},{id:3,y:5,x:3,dir:a},{id:4,y:5,x:4,dir:a},{id:5,y:5,x:5,dir:a}]}),[a]),d=Object(i.useState)(c),s=Object(o.a)(d,2),l=s[0],h=s[1],p=Object(i.useState)(a),y=Object(o.a)(p,2),x=y[0],O=y[1];D(x,O,n);var m=function(){var t=function(t,e){return Math.round(t-.5+Math.random()*(e-t+1))},e=t(0,G-1);return{id:999,y:t(0,E-1),x:e}},g=Object(i.useState)(m()),v=Object(o.a)(g,2),_=v[0],C=v[1],k=function(t){var e=!1;t.forEach((function(n){t.find((function(t){return t.x===n.x&&t.y===n.y&&t.id!==n.id}))&&(e=!0)})),e&&r()},L=function(){h((function(t){var e=t[t.length-1],n=e.x,i=e.y;e.dir===B&&n--,e.dir===M&&n++,e.dir===z&&i--,e.dir===I&&i++;var r={id:e.id+1,x:n,y:i,dir:e.dir};return[].concat(Object(b.a)(t),[r])}))},R=function(){"stopped"!==e&&h((function(t){var e=Object(b.a)(t);x===B&&(e[0]=Object(j.a)(Object(j.a)({},t[0]),{},{x:t[0].x+1>=G?0:t[0].x+1})),x===M&&(e[0]=Object(j.a)(Object(j.a)({},t[0]),{},{x:t[0].x-1<0?G-1:t[0].x-1})),x===I&&(e[0]=Object(j.a)(Object(j.a)({},t[0]),{},{y:t[0].y+1>=E?0:t[0].y+1})),x===z&&(e[0]=Object(j.a)(Object(j.a)({},t[0]),{},{y:t[0].y-1<0?E-1:t[0].y-1})),e[0].dir=x;for(var n=1;n<t.length;n++)e[n]={id:e[n].id,x:t[n-1].x,y:t[n-1].y,dir:t[n-1].dir};return k(e),e})),l[0].x===_.x&&l[0].y===_.y&&(C(m()),L())};return f((function(){R()}),N),Object(i.useEffect)((function(){"playing"===e&&(h(c),O(a))}),[e,c,a]),Object(u.jsxs)("div",{style:{width:K*G,height:S*E},className:w.a.board,children:[Object(u.jsx)("div",{className:w.a.inner}),Object(u.jsx)(U,{apple:_}),l.map((function(t){return Object(u.jsx)(Z,{particle:t},t.id)}))]})},R=n(13),A=n.n(R),F=h.width,J=h.height,U=function(t){var e=t.apple;return Object(u.jsx)("div",{className:A.a.apple,style:{width:F,height:J,top:e.y*J,left:e.x*F}},e.id)},q=n(7),H=n(10),Y=n.n(H),P=n(14),Q=n.n(P),T=h.width,V=h.height,W=h.rightDir,X=h.leftDir,Z=function(t){var e=t.particle;return Object(u.jsxs)("div",{className:Q()(Y.a.cell,Object(q.a)({},Y.a.horizontal,e.dir===W||e.dir===X)),style:{width:T,height:V,top:e.y*V,left:e.x*T},children:[Object(u.jsx)("span",{}),Object(u.jsx)("span",{}),Object(u.jsx)("span",{})]})};n(20);c.a.render(Object(u.jsx)(r.a.StrictMode,{children:Object(u.jsx)(l,{})}),document.getElementById("root"))},5:function(t,e,n){t.exports={game:"Game_game__B0OC-",header:"Game_header__3tDKq",title:"Game_title__34brO",button:"Game_button__1K4AD"}},9:function(t,e,n){t.exports={board:"Board_board__3BcvK",inner:"Board_inner__2-UUY"}}},[[21,1,2]]]);
//# sourceMappingURL=main.13181896.chunk.js.map